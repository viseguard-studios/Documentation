\documentclass[../../projlab]{subfiles}
\begin{document}

\makeatletter

\ifSubfilesClassLoaded{
	\coverpage{7. Leadás}
	%\renewcommand{\filePath}[1]{./../../ #1}
	\def\filePath[#1]{./../../#1}
}{}

\makeatother

\chapter{Pontosítások}

\section{Teleport kapuk}
A teleport kapuk miután megkergülnek csak a fizikailag szomszédos aszteroidákra tud átmenni.
Másik teleport kaput nem tud használni illetve saját magát sem tud keresztül menni.
Ehhez az Aszteroidának kell egy új medódust adni, \verb"GetPhisycalNeighbours()" ami a fizikalilag szomszédos aszteroidákat adja vissza

\section{Aszteroidák}
Szükség van egy \verb"bool" változóra annak eltárolására, hogy ki volt-e bányászva. 
Így miután ki van báynászva lehet más dolgokat is eltárolni benne.



\section{Bemeneti nyelv}

\subsubsection{Bemeneti parancsok}

\begin{itemize}
    \item help
    \begin{itemize}
        \item Leírás: Kilistázza az összes lehetséges parancsot
        \item Opciók: help
    \end{itemize}


    \item startgame
    \begin{itemize}
        \item Leírás: 
        \item Opciók: startgame <seed> <file name>
        \begin{itemize}
            \item seed: a véletlen szám generátor által hasznát kezdőérték. \newline
Ha 0-t adnak meg a seednek akkor a játék semmilyen véletlenszerű tevékenységet nem fog végezni
            \item file name: A felhasználó adja meg a játéktér leírását tartalmazó file-t
        \end{itemize}
    \end{itemize}

    \item move
    \begin{itemize}
        \item Leírás: A játékos egy járművet akar mozgatni. \newline
            A parancs megkérdezi a játékostól, hogy melyik aszteroidára akarja mozgatni a járművet.
        \item Opciók: move <vessel>
        \begin{itemize}
            \item vessel: A jármű amit mozgatni akarunk
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> move ss_001
Neighbours:
01 - Asteroid_1  - ?
02 - Asteroid_34 - Iron
03 - Asteroid_9  - Coal
04 - Asteroid_11 - ?
> 04
ss_001 Moved to Asteroid_11
            \end{verbatim}
    \end{itemize}


    \item neighbours
    \begin{itemize}
        \item Leírás: A játékos lekéri az aszteroida szomszédjait
        \item Opciók: neighbours <asteroid>
        \begin{itemize}
            \item asteroid: Az aszteroida aminek a szomszédjait akarjuk lekérdezni.
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> neighbours ss_001
Neighbours:
01 - Asteroid_1  - ?
02 - Asteroid_34 - Iron
03 - Asteroid_9  - Coal
04 - Asteroid_11 - ?
            \end{verbatim}
    \end{itemize}


    \item drill
    \begin{itemize}
        \item Leírás: A játékos a megadott járművel fúr azon az aszteroidán amin éppen van.
        \item Opciók: drill <vessel>
        \begin{itemize}
            \item vessel: A jármű amivel fúrni akarunk.
        \end{itemize}
        \item Példa 1:
            \begin{verbatim}
> drill ss_001 
Asteroid_42 crust = X
            \end{verbatim}
        \item Példa 2:
            \begin{verbatim}
> drill ss_001 
can't drill
            \end{verbatim}
    \end{itemize}


    \item mine
    \begin{itemize}
        \item Leírás: A játékos a megadott járművel megpróbál bányászni azon az aszteroidán amin éppen van.
        \item Opciók: mine <vessel>
        \begin{itemize}
            \item vessel: A jármű amivel bányászni akarunk.
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> mine ss_001
Asteroid_35 mined
* Item: Iron
            \end{verbatim}
    \end{itemize}


    \item status
    \begin{itemize}
        \item Leírás: A játékos a megadott entitás jelenlegi állapotát kérdezi le.
        \item Opciók: status <vessel|asteroid>
        \begin{itemize}
            \item vessel: A jármű aminek az állapotát kérdezzük le.
            \item asteroid: Az aszteroida aminek az állapotát kérdezzük le.
        \end{itemize}
        \item Példa 1:
            \begin{verbatim}
> status ss_001
Turn used: false
Asteroid: Asteroid_67 | Not hidden
Resources:
- Iron
- Iron
- Coal
- Uranium Exp:2
Teleport Gates:
- Tg_023 - 1
- Tg_023 - 1
- Tg_011 - 5
            \end{verbatim}
        \item Példa 2:
            \begin{verbatim}
> status Asteroid_67
Crust: 0
Vessels:
- SpaceShip_01
- SpaceShip_23
- Robot_4
Resources:
- Iron
- Iron
Teleport Gates:
- Tg_023 - 1
- Tg_011 - 5
            \end{verbatim}        
    \end{itemize}


    \item hide
    \begin{itemize}
        \item Leírás: A játékos a megadott járművet elbújtatja az aszteroidában amin tartózkodik.
        \item Opciók: hide <enter|exit> <vessel>
        \begin{itemize}
            \item vessel: A jármű aminek az állapotát kérdezzük le.
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> hide enter ss_001
Can't hide
            \end{verbatim}
        \item Példa:
            \begin{verbatim}
> hide enter ss_001
ss_001 is hidden
            \end{verbatim}            
    \end{itemize}


    \item craft
    \begin{itemize}
        \item Leírás: A játékos egy űrhajón legyárt egy adott receptet.
        \item Opciók: craft <spaceShip> <recipe>
        \begin{itemize}
            \item spaceShip: Az űrhajó amin akarunk gyártani
            \item recipe: A recept amit le akarunk gyártani
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> craft ss_001 <recipe>
Can't craft .......
--
Succesful
            \end{verbatim}
    \end{itemize}


    \item place
    \begin{itemize}
        \item Leírás: A játékos egy űrhajóból lerak egy nyersanyagot az aszteroidába amin van.
        \item Opciók: place <resource> from <vessel>
        \begin{itemize}
            \item resource: a nyersanyag amit le akarunk rakni
            \item vessel: A jármű amin akarunk gyártani
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> palce from ss_001
Items:
1. Iron
2. Uranium Exp:1
3. uranium Exp:2
> 2
Placed uranium Exp:1
            \end{verbatim}
    \end{itemize}

    \item pickup
    \begin{itemize}
        \item Leírás: A játékos egy űrhajóból Felvesz egy nyersanyagot az aszteroidába amin van.
        \item Opciók: pickup <resource> to <vessel>
        \begin{itemize}
            \item resource: a nyersanyag amit le akarunk rakni
            \item vessel: A jármű amin akarunk gyártani
        \end{itemize}
        \item Példa:
            \begin{verbatim}
> pickup Coal to ss_001
            \end{verbatim}
    \end{itemize}


    \item endturn
    \begin{itemize}
        \item Leírás: A játékos befejezi a kört, ezzel a következő játékosnak adja át a kört.
        \item Opciók: endturn
        \item Példa:
            \begin{verbatim}
> endturn
Next player: player_2 
            \end{verbatim}
    \end{itemize}

    \item solarFlare
    \begin{itemize}
        \item Leírás: Beütemez egy napvihart a kör végére.
        \item Opciók: solarFlare <pos> <radius>
            \begin{itemize}
                \item pos: A napvihar pozíciója.
                \item radius: A napvihar ebben a körben hat.
            \end{itemize}
        \item Példa:
            \begin{verbatim}
> solarFlare 20 10 5
A solar flare will happen at 20,10 with radius 5
            \end{verbatim}
    \end{itemize}

    \item solarDistance
    \begin{itemize}
        \item Leírás: Módosítja a naptól való távolságot.
        \item Opciók: solarDistance <distance>
            \begin{itemize}
                \item distance: A napvihar pozíciója.
            \end{itemize}
        \item Példa:
            \begin{verbatim}
> solarDistance 10
            \end{verbatim}
    \end{itemize}

\end{itemize}

A robotok és UFOk irányítására az álltaluk végezhető parancsok használhatóak: \newline
Robotok
\begin{itemize}
    \item move
    \item drill
\end{itemize}
UFO
\begin{itemize}
    \item move
    \item mine
\end{itemize}

\chapter{Részletes tervek}
%\comment{A dokumentum célja, hogy pontosan specifikálja az implementálandó osztályokat, beleértve a privát attribútumokat és metódusokat, ezek definícióját is.A dokumentum második fele részletesen be kell mutassa a korábban definiált be-és kimeneti nyelv szintakszisát felhasználva, hogy mely tesztekkel lesz a prototípus ellenőrizve.}

\section{Osztályok és metódusok tervei}

\subsection{Asteroid}
\begin{class-template-responsibility}
Egy aszteroidát jelöl. Minden példányának létrejöttekor beállítódnak a generátor által a tulajdonságai.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-coreSize:int}{Az aszteroida magjának mérete, ennyi egységnyi nyersanyag bányászható ki belőle a játék elején, és bányászat után ennyi egységnyi nyersanyag helyezhető vissza bele. }
\classitem{-exploded:bool}{Igaz, ha felrobbant már az aszteroida, hamis, ha nem. }
\classitem{-maxHidingSpace:int}{Maximum ennyi telepes számára van az adott időpillanatban hely az aszteroidában elbújni. Minden telepes sikeres elbújása után csökken ez a szám. }
\classitem{-crustSize:int}{Az aszteroida köpenyének mélysége. Ennyi egységet kell még fúrni benne jelenleg, hogy teljesen átfúrt legyen. Minden fúrás után csökken ez a szám. }
\classitem{-revealed:bool}{Igaz, ha az aszteroida már „fel van fedve” a térképen, tehát rajta vagy bármelyik szomszédján már járt telepes vagy robot. Ellenkező esetben hamis.}
\classitem{-visited:bool}{Igaz, ha az aszteroidán már járt telepes, robot, vagy UFO, ellenkező esetben hamis.}
\classitem{-hidingVessel:Vessel}{Ha az aszteroidában jelenleg megbújik egy telepes, akkor eltárolja, melyik telepesről van szó. Ha nem bújik benne senki, null értéket tárol.}
\classitem{-neighbours:Asteroid[1..*]}{A szomszédos aszteroidák tárolója.}
\classitem{-resource:Resource[0..1]}{Az aszteroida magjában lévő nyersanyagkészlet. }
\classitem{-stationed:Vessel[0..*]}{Az aszteroidán jelenleg állomásozó járművek tárolója (AsteroidPlaces értékük vessel). }
\classitem{-orbit:MovableEntity[0..*]}{Az aszteroida körül keringő mozgásra képes entitások tárolója (AsteroidPlaces értékük orbit).}
\classitem{-inside:MovableEntity[0..*]}{Az aszteroida területén elhelyezkedő mozgásra képes entitások tárolója (AsteroidPlaces értékük inside).}
\classitem{-inventory:AsteroidInventory}{Az aszteroida raktára, ami a magba belehelyezett és jelenleg ott tárolt elemeket tartalmazza. }
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Asteroid(r:Resource, amount:int)}{Az osztály konstruktora. A paraméterként megadott nyersanyagtípussal feltölti a resource attribútum listáját, annyi darabot rak bele, amennyit megadtunk neki paraméterként.}
\classitem{+solarFlare()}{Napvihar eléri az adott aszteroida környezetét.  Meghívja minden stationed és orbit attribútumban tárolt Vessel/MovableEntity solarFlare() metódusát.}
\classitem{+explode()}{Felrobban az aszteroida. Meghívja az összes stationed-ben lévő Vesselnek asteroidExploded() metódusát, majd a removeBuilding() metódus segítségével megsemmisíti az összes orbit és inside attribútumi elemét, és beállítja a exploded true-ra. }
\classitem{+reveal()}{Aszteroida felfedése a térképen, amennyiben még nem volt felfedve. A revealed attribútumot beállítja true-re.  }
\classitem{+reachableAsteroids():Asteroid[]}{Tárolja, hogy melyik aszteroidák elérhetőek jelenleg az adott aszteroidából. Visszaadja a neighbours összes elemét, pluszban még a teleportkapukon elérhető aszteroidákat is. Az utóbbit az orbit attribútum listáján keresztül teszi meg, minden elemnek meghívja a getRoutes() metódusát, ami visszaadja a rajta keresztül elérhető extra aszteroidákat.}
\classitem{+addNeigbour(a:Asteroid)}{Új szomszéd hozzáadása. A paraméterként kapott aszteroidát hozzáadja a neighbours listához. }
\classitem{+arrive(mv:MovableEntity)}{Egy adott jármű érkezik az aszteroidára. Ha mv-nek (a paraméternek) AsteroidPlaces értéke Vessel, akkor beteszi mv-t a stationed-ba. Ha az Orbit, akkor hívja meg a AddBuilding(mv) metódust.}
\classitem{+depart(mv:MovableEntity)}{Egy adott jármű elhagyja az aszteroidát. Ha mv-nek (a paraméternek) AsteroidPlaces értéke Vessel, akkor kiveszi mv-t a stationed-ből. Ha az Orbit, akkor hívja meg a removeBuilding(mv) metódust.}
\classitem{+hide(v:Vessel):bool}{Az aszteroidában megpróbál elbújni egy jármű. Igazat ad vissza ha el tud bújni, hamisat ha nem. Ha az exploded attribútum éppen false, és a crustSize attribútum értéke 0, és az inventory attribútum getItems értéke null-t ad vissza, akkor létrehoz egy freeSpace attribútumot, ami a GetAvailableHidingSpace() visszatérési értékét megjegyzi. Utána létrehoz egy neededSpace attribútumot, ami a v paraméter GetHidingSpaceRequirement() visszatérési értékét megjegyzi. Ha a freeSpace nem kisebb mint a neededSpace, akkor a meghívja a v setIsHidden(true) metódusát. Más esetben nem csinál semmit.}
\classitem{+exit(v:Vessel)}{Az adott jármű előbújik az aszteroidából. Ha éppen a v pont a hidingVessel, akkor a hidingVessel értéke állítja be null-ra, más esetén nem csinál semmit.}
\classitem{+getAvailableHidingSpace():int}{Visszaadja, hogy hány telepes számára van még hely elbújásra jelenleg az aszteroidában. Ha a HidingVessel attribútum null, akkor 1 értéket, más esetén pedig 0-át adja vissza. }
\classitem{+drill()}{Akkor hívódik meg, amikor az aszteroida kérgén lévő lyukat akarják mélyíteni. Ha az exploded attribútum éppen false, és a crustSize attribútum nem 0, akkor a crustSize értéket 1-el csökkenti, más esetén nem csinál semmit.}
\classitem{+mine():Item}{Akkor hívódik meg, amikor az aszteroidából akarnak nyersanyagot kibányászni. Ha az exploded attribútum éppen false, és a crustSize attribútum értéke 0, és az inventory attribútum getItems értéke nem null-t ad vissza, akkor meghívja az inventory removeItem(item) metódusát, és ezt az item objektumot visszatérési értékként adja vissza. Más esetén nem csinál semmit, és null értéket adja vissza.}
\classitem{+addBuilding(b:Building)}{Hozzáad egy új épületet az aszteroidához, a paraméterként kapott épület getPlace() metódusából kideríti az épület AsteroidPlaces értékét, ha ez Inside, akkor az inside attribútum listájához, ha pedig Orbit, akkor az orbit attribútum listájához adja hozzá.}
\classitem{+removeBuilding(b:Building)}{Eltávolít egy épületet az aszteroidából, a paraméterként kapott épület getPlace() metódusából kideríti az épület AsteroidPlaces értékét, ha ez Inside, akkor az inside attribútum listájából, ha pedig Orbit, akkor az orbit attribútum listájából veszi ki (amennyiben megtalálja ott). Más esetben nem történik semmi.}
\classitem{+placeItem(i:Item):bool}{Elem belehelyezése a raktárba. Meghívja az inventory attribútum tryInsertItem(i) metódusát, ha true értéket kap vissza, akkor hívja meg a insertItem(i) metódust, és true értéket ad vissza a metódus. Más esetben false-ot ad vissza. }
\classitem{+getInventory():IInventory}{Visszaadja az aszteroida raktárát,vagyis az inventory attribútumot. }
\end{class-template-method}


\subsection{AsteroidInventory}
\begin{class-template-responsibility}
 Egy aszteroida raktáráért (visszahelyezett kibányászott nyersanyagok tárolásáért) felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
IInventory
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-items:Item[0..*]}{A raktár elemeinek tárolója.}
\classitem{-capacity:int}{A raktár kapacitása.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+insertItem(item:Item):bool}{Új elem hozzáadása a tárolóhoz. Az adott elemet hozzáadja az itemek listájához.}
\classitem{+removeItem(item:Item):bool}{Elem eltávolítása a tárolóból, amennyiben ez lehetséges. Az items listán addig iterál, amíg meg nem találja a keresett elemet (az item Satisfies metódusa igazzal tér vissza). Ha megtalálja, eltávolítja a listából, megszakítja az iterációt és igazzal tér vissza. Ha pedig az egész raktárban nem találta meg, hamissal tér vissza, nem sikerült eltávolítani semmit. }
\classitem{+tryInsertItem(item:Item):bool}{Ellenőrzi, hogy az adott elem elméletileg belehelyezhető-e a raktárba. Ellenőrzi, hogy a raktár kapacitása nagyobb-e, mint az aktuális mérete. Ha nem nagyobb, nem helyezhető bele az elem, hamissal tér vissza. Ha pedig igen, igazzal tér vissza, sikeres lenne a művelet. }
\classitem{+getItems():List<Item>}{Visszatér az inventory-ban található item-ek listájával.}
\classitem{+NearSun(a:Asteroid)}{Napközelben hívódik meg, az items minden elemének NearSun metódusát meghívja (ez csak urán esetén fejt ki hatást).}    
\end{class-template-method}

\subsection{Building}
\begin{class-template-responsibility}
Az épülettípusok közös ősosztálya. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+getRoutes():Asteroid[0..*]}{Üres metódus, a teleportkapuk fogják felüldefiniálni a belőlük elérhető extra aszteroidákkal.}
\end{class-template-method}

\subsection{Coal}
\begin{class-template-responsibility}
 Egy egységnyi szén nyersanyagot reprezentál.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item \baseclass Resource
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\end{class-template-method}

\subsection{Engine}
\begin{class-template-responsibility}
A program indításáért, egy játékfolyam bezárásáért felelős osztály.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+startApplication()}{A program indítása. A hívás után meghívja a játék ablakot és hozzátartozott UI-t. Egy ablakon belül egy gomblenyomással meghívja a startGame() metódust.}
\classitem{+startGame()}{Egy új játék kezdése. Létrehoz egy Scene és egy GameManager objektumot, majd sorban meghívja a GameManager objektumoknak initGame() és startGame() metódusait. }
\classitem{+endGame()}{Játékmenetek befejezése, Visszalép a UI ablakhoz.}
\end{class-template-method}

\subsection{Entity}
\begin{class-template-responsibility}
Egy adott entitás (vizuális megjelenítéssel rendelkező játékelem) osztálya. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{\#scene:Scene[1]}{A játéktér tárolója. }
\classitem{-position:Vector2}{Az entitás koordinátákkal megadott pozíciója.}
\classitem{\#currentAsteroid:Asteroid}{Az az aszteroida, amin jelenleg rajta van.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+roundEnd()}{Akkor hívódik meg, ha az adott körben már minden játékos lépett. A robotok ezt használják például a mozgásra. Itt nem csinál semmit, majd felül fogja írni a leszármazottja.}
\classitem{+getScene():Scene}{Visszaadja a scene attribútumot.}
\classitem{+solarFlare()}{Napviharról értesíti az egységet. Absztrakt, a leszármazottja majd felül fogja írni.}
\classitem{+explode()}{Az aszteroida és ezáltal az entityk felrobbanásakor való viselkedésért felel. Absztrakt, a leszármazottja majd felül fogja írni.}
\classitem{+getCurrentAsteroid():Asteroid}{Visszaadja a currentAsteroid attribútum értékét.}
\classitem{+setPos(p:Vector2)}{A pos attribútum setter-e.}
\classitem{+getPos():Vector2}{A pos attribútum getter-e.}
\end{class-template-method}


\subsection{GameManager}
\begin{class-template-responsibility}
A játék menetének irányításáért felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-currentPlayer:Player[1]}{A jelenleg aktív játékos, aki éppen tudja mozgatni a telepeseit.}
\classitem{-selectedVessel:Vessel}{Az aktuálisan irányítható jármű (akit a soron lévő játékos jelenleg irányít). }
\classitem{-sunDistance:int}{A Naptól való aktuális távolság. }
\classitem{-allPlayers:Player[1..*]}{A játék játékosainak listája. }
\classitem{-asteroids:Asteroid[1..*]}{A játékban szereplő aszteroidák listája. }
\classitem{-gameEnded:bool}{Jelzi, hogy a játék befejeződött-e már.}
\classitem{-settlers:SpaceShip}{A játék telepeseinek tárolója. }
\classitem{-scene:Scene}{Az adott játékhoz tartozó játéktér. }
\classitem{-engine:Engine}{Az adott program fő ablakja.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+initGame()}{A játékmenet inicializálásáért felel, ciklusosan betesz minden Player-t az allPlayers listába, majd meghívja a generateScene() és a generateAsteroids() metódust. }
\classitem{+addPlayer(p:Player)}{Új játékos hozzáadása, beteszi az adott paramétert az allPlayers attribútumtömbbe.}
\classitem{+startGame()}{Új játék indításáért felel, beállítja a currentPlayer attribútum értékét az allPlayers lista első elemére. }
\classitem{+takeTurn()}{Egy játékos aktuális köre - ekkor van lehetősége irányítani a járműveit egyesével a UI segítségével. }
\classitem{+endGame()}{Aktuális játék befejezése, meghívja a engine attribútum endGame() metódusát.}
\classitem{+isSunStormActive():bool}{Visszaadja, hogy jelenleg napvihar van-e az aszteroidamezőn.}
\classitem{-generateScene()}{Játék inicializálás során a játéktér elemeinek inicializálása. Ciklusosan generál minden allPlayers listaelemnek 3 db SpaceShip objektumot, majd az addEntity(entity) metódus segítségével beteszi a scene attribútum entities listájába ezeket.}
\classitem{-generateNewResource():Resource[]}{Új nyersanyag generálása, inicializálás folyamata során használjuk fel. Véletlenszerűen kiválaszt egy nyersanyagtípust és mennyiségét, belepakolja ezeket egy listába, és ezzel tér vissza.}
\classitem{-generateAsteroids()}{Az aszteroidamező inicializálása, játék inicializálás során hozzuk létre. Egy random szám alapján ciklikusan generál valamennyi Asteroid objektumot, majd minden objektumnál meghívja a generateNewResource(a) metódust, és beteszi a visszatérési értéket a inventory-ba a insertItem(item) metódus ciklikus ismétlésével.}
\end{class-template-method}


\subsection{Ice}
\begin{class-template-responsibility}
 Egy egységnyi vízjég nyersanyagot reprezentál.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item \baseclass Resource
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-evaporated:bool}{Jelzi, hogy az adott vízjég elpárolgott-e már.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\classitem{+NearSun(a:Asteroid)}{Napközelben a vízjég párolog, körönként 1 egységgel. A Satisfies() metódussal ellenőrzi az }
\end{class-template-method}

\subsection{IInventory}
\begin{class-template-responsibility}
Interfész, ami a különböző raktártípusoktól elvárt megvalósítandó metódusokat gyűjti össze. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+insertItem(item:Item):bool}{Új elem hozzáadása a tárolóhoz, amennyiben van benne szabad hely (kapacitás).  Sikeres művelet esetén igaz, sikertelen művelet esetén hamis visszatérési értéke van. }
\classitem{+removeItem(item:Item):bool}{Elem eltávolítása a tárolóból, amennyiben ez lehetséges. }
\classitem{+tryInsertItem(item:Item):bool}{Ellenőrzi, hogy az adott elem elméletileg belehelyezhető-e a raktárba. }
\classitem{+getItems():List<Item>}{Visszatér az inventory-ban található item-ek listájával.}
\classitem{+NearSun(a:Asteroid)}{Napközelben hívódik meg, minden elem NearSun metódusát meghívja.}
\end{class-template-method}

\subsection{InfiniteInventory}
\begin{class-template-responsibility}
 Egy UFO végtelen tárhelyű raktáráért felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
IInventory
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-items:Item[0..*]}{A raktár elemeinek tárolója.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+insertItem(item:Item):bool}{Új elem hozzáadása a tárolóhoz: az items listához hozzáadja a paraméterként megkapott elemet. Mindig igazzal tér vissza, hiszen nem kell méretet ellenőriznie, bármennyi elemet tud tárolni. }
\classitem{+removeItem(item:Item):bool}{Elem eltávolítása a tárolóból, amennyiben ez lehetséges. Az items listán addig iterál, amíg meg nem találja a keresett elemet (az item Satisfies metódusa igazzal tér vissza). Ha megtalálja, eltávolítja a listából, megszakítja az iterációt és igazzal tér vissza. Ha pedig az egész raktárban nem találta meg, hamissal tér vissza, nem sikerült eltávolítani semmit. }
\classitem{+tryInsertItem(item:Item):bool}{Ellenőrzi, hogy az adott elem elméletileg belehelyezhető-e a raktárba. Nincs művelet, igazzal tér vissza, hiszen végtelen hely van a raktárban, mindig sikeres lesz az elemek felvétele. }
\classitem{+getItems():List<Item>}{Visszatér az inventory-ban található item-ek listájával.}
\classitem{+NearSun(a:Asteroid)}{Napközelben hívódik meg, az items minden elemének NearSun metódusát meghívja (ez csak urán esetén fejt ki hatást).}    
\end{class-template-method}

\subsection{Iron}
\begin{class-template-responsibility}
 Egy egységnyi vas nyersanyagot reprezentál.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item \baseclass Resource
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\end{class-template-method}

\subsection{Item}
\begin{class-template-responsibility}
Raktárban tárolható elemtípusok gyűjtőosztálya. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-inventory[1]: IInventory}{?}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Activate()}{Üres metódus, a TeleportGateItem fogja felüldefiniálni a teleportkapuk lerakásakor végrehajtandó műveletekkel.}
\classitem{+NearSun(a:Asteroid)}{Napközelben a nyersanyag típusának megfelelő műveletet hajt végre. Alapértelmezetten üres metódus, különleges esetekben felüldefiniálható.}
\classitem{+Satisfies(r:Resource):bool}{Absztrakt metódus, a leszármazottakban meghatározza, hogy az átadott Item használható-e a jelenlegi helyett.}
\end{class-template-method}

\subsection{MovableEntity}
\begin{class-template-responsibility}
Egy mozgatható entitás osztálya (pl. teleport kapu, űrhajók stb.) 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+getPlace():AsteroidPlace}{Megadja a entitáshoz tartozó aszteroida helyszínt. Itt nem csinál semmit, a leszármazottja majd felül fogja írni a megfelelő kategóriával.}
\classitem{+move(to:Asteroid):}{Az entitás mozgása. Az ősből örökölt currentAsteroid attribútum értéke "a". Meghívja a-nak depart(this) metódusát, kiveszi saját magát az a-ból. Utána meghívja to-nak (vagyis a paraméternek) arrive(this) metódusát, beteszi saját magát a b-be. Végül meghívja a setPos(to.getPos) metódust, és állítja be a saját pozíciót a to pozíciójára.}
\classitem{+asteroidExploded()}{Az aktuális aszteroida felrobbanásakor hívódik meg, a leszármazott osztályoknál különbözően fog visekedni, itt nem történik semmi.}
\end{class-template-method}

\subsection{Player}
\begin{class-template-responsibility}
Egy adott játékos reprezentációja. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-name:string}{A játékos neve.}
\classitem{-searching\_for:Resource[1]}{Az itt szereplő nyersanyagfajta után kutatnak a játékos robotjai.}
\end{class-template-attribute}
\begin{class-template-method}
\item[] $\emptyset$
\end{class-template-method}

\subsection{Recipe}
\begin{class-template-responsibility}
A telepesek által elkészíthető receptekért felel. Egy recept adott számú kibányászott nyersanyag felhasználásával elkészített dolgok pontos hozzávalóit, és az elkészült eredmény típusát tárolja. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-input:Item[1..*]}{Az aktuális recepthez szükséges hozzávalók tárolása. }
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+canCraft(s:SpaceShip):bool}{Meghatározza, hogy egy adott raktárban és aszteroidán lévő kibányászott nyersanyagkészlet elegendő-e az adott recept elkészítéséhez. Először lekéri a készítő telepes és az aktuális aszteroida raktárának elemkészletét, és lemásolja azokat egy-egy listába, hogy az eredeti tartalom ne változzon. Majd a recept input-jának minden elemét összehasonlítja a két lista elemeivel, először a telepesében keresve, és ha nem talál, az aszteroidáéban keresi tovább. Amikor megtalál egy elemet, eltávolítja a listából. Ha minden szükséges elemet megtalált a két listában összesen, elkészíthető a recept. Ha legalább egy hozzávalóhoz nem talál raktárkészletet egyik listában sem,azonnal befejezi a műveleteket, false-al tér vissza, nem készíthető el a recept.}
\classitem{+craft(s:SpaceShip)}{Akkor hívódik meg ha ténylegesen le akarjuk gyártani ezt a receptet. Lekérdezi a telepes raktárát, illetve az aktuális aszteroidát, és annak raktárát. A recept minden elemét először megpróbálja eltávolítani a telepes raktárából (RemoveItem metódussal), ha sikertelen, megpróbálja ezt az elemet az aszteroida raktárából hasonlóképpen eltávolítani (valamelyiknek sikerülnie kell a kettő közül, különben nem hívódna meg a függvény). Az összes hozzávaló eltávolítása után a recept MakeResult metódusa hívódik meg, ami elkészíti magát a receptből előállított dolgot.}
\classitem{\#makeResult(s:SpaceShip)}{Létrehozza a kívánt terméket a receptből a leszármazottak esetében, itt absztrakt metódus.}
\end{class-template-method}

\subsection{Resource}
\begin{class-template-responsibility}
Egy adott aszteroidában tárolt egy egységnyi, bányászással kinyerhető nyersanyagok alaposztálya. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\item[] $\emptyset$
\end{class-template-method}

\subsection{Robot}
\begin{class-template-responsibility}
Egy speciális jármű, a robot tevékenységeit, tulajdonságait tartalmazza.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity \baseclass Vessel
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Robot(p:Player, a:Asteroid):Robot}{Az osztály konstruktora, beállítja az őt kezelő játékost (owner) illetve aszteroidát (currentAsteroid). }
\classitem{+GetHidingSpaceRequirement():int}{A robotok által az aszteroida magjában elfoglalt hely nagyságát adja vissza. Korlátlan mennyiségű robot elfér, tehát 0 az értéke. }
\classitem{+getInventory():IInventory}{Robot nem rendelkezik raktárral, null-al tér vissza.}
\end{class-template-method}


\subsection{RobotRecipe}
\begin{class-template-responsibility}
Egy robot elkészítéséhez szükséges speciális recept típus. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Recipe
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{\#makeResult(s:SpaceShip)}{Lekérdezi az aktuális telepeshez tartozó játékost, majd ezt, illetve az aktuális aszteroidát megadva a konstruktorban egy új robotot hoz létre. A robotot az aktuális aszteroidán helyezi el, az adott játékosé lesz.}
\end{class-template-method}

\subsection{Scene}
\begin{class-template-responsibility}
Az entitások összességének összefogásáért felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{\#entities:Entity[1..*]}{A játékban szereplő összes entitás tárolója.}
\classitem{-manager:GameManager}{Az aktuális játékmenet.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+addEntity(e:Entity)}{Új entitás hozzáadása a játékmenethez, beteszi az adott paramétert az entities attribútumtömbbe.}
\classitem{+roundEnded()}{Az entities attribútum összes eleme RoundEnd() metódusát meghívja, befejezi az adott kört.}
\classitem{+getManager():GameManager}{Visszatérési értékként megadja a manager attribútumot.}
\classitem{+solarFlare()}{A napviharról szóló értesítés. Ciklusosan meghívja az entities attribútum összes elemének solarFlare() metódusát.}
\end{class-template-method}

\subsection{SpaceShip}
\begin{class-template-responsibility}
A telepesekért felelős osztály.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity \baseclass Vessel
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-inventory:SSInventory[1]}{A telepes által folyamatosan hordozott raktár. }
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+SpaceShip(p:Player, a:Asteroid):SpaceShip}{Az osztály konstruktora, beállítja az őt kezelő játékost (owner attribútum) illetve aszteroidát (currentAsteroid attribútum). }
\classitem{+getInventory():IInventory}{Az inventory attribútumot visszaadja.}
\classitem{+getHidingSpaceRequirement():int}{A telepesek által az aszteroida magjában elfoglalt hely nagyságát adja vissza, ami gyakorlatban 1.}
\classitem{+craft(recipe:Recipe)}{A telepes az aktuálisan rendelkezésére álló elemekből egy "receptet" készít. Meghívja a recipe paraméter canCraft(inventory, currentAsteroid) metódusát (a két paraméter az objektumnak inventory és currentAsteroid attribútuma lesz), ha true-t kap meg visszatérési értékként, akkor meghívja a craft(inventory, currentAsteroid) metódust, ekkor sikeres a készítés. Ha false, sikertelen a készítés, nem hívódik meg a második metódus.}
\classitem{+placeItem(i:Item):bool}{Elem belehelyezése az aktuális aszteroidába, amin tartózkodik. Meghívja a currentAsteroid attribútum placeItem() metódusát, majd ha true-t kap visszatérési értékként (más esetben nem csinál semmit), akkor felhívja az inventory attribútum removeItem(i) metódusát, ami kiveszi az itemet a saját raktárából.}
\classitem{+activateItem(i:Item)}{A megadott tárgyon hív egy activate()-et.}
\end{class-template-method}


\subsection{SpaceStation}
\begin{class-template-responsibility}
A játékosok által megépítendő űrállomás épülettípust jelöli. Speciális tulajdonsága, hogy amikor megépül akkor a játék befejeződik.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity \baseclass Building 
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+SpaceStation(a:Asteroid)}{Az osztály konstruktora. Egy űrállomás felépítése a játék végével jár, ezért a konstruktor először hozzáadja önmagát, mint épületet az aktuális aszteroidához(addBuilding). Ezután a játéktet (scene) lekérdezi az aszteroidától, a játéktértől pedig a manager-t kérdezi le. A managernek az EndGame() metódusát meghívva jelzi, hogy a játék véget ért. } 
\classitem{+explode()}{Üres metódus, miután felépült egy űrállomás, a játéknak vége, ezért ez a metódus sosem hívódik meg, nincs következménye.}
\classitem{+solarFlare()}{Üres metódus, miután felépült egy űrállomás, a játéknak vége, ezért ez a metódus sosem hívódik meg, nincs következménye.}
\end{class-template-method}

\subsection{SpaceStationRecipe}
\begin{class-template-responsibility}
Űrállomás elkészítéséhez szükséges speciális recept típus. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Recipe
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{\#makeResult(s:SpaceShip)}{Létrehozza az űrállomást: meghívja az űrállomás konstruktorát. A konstruktor pedig befejezi a játékot (lásd:SpaceStation osztály, konstruktor leírás).}
\end{class-template-method}

\subsection{SSInventory}
\begin{class-template-responsibility}
 Egy egy telepes raktáráért felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
IInventory
\end{class-template-interface}
\begin{class-template-baseclass}
$\emptyset$
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-items:Item[0..*]}{A raktárban található kibányászott nyersanyagok tárolója.}
\classitem{-tgs:TeleportGateItem[0..3]}{A raktárban lévő teleportkapuk tárolója.}
\classitem{-capacity:int}{A raktár nem teleportkapu típusú item-einek kapacitása.}
\classitem{-tgCapacity:int}{A raktár teleportkapuinak kapacitása.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+insertItem(item:Item):bool}{Új elem hozzáadása a tárolóhoz. Az adott elemet hozzáadja az itemek listájához.}
\classitem{+removeItem(item:Item):bool}{Elem eltávolítása a tárolóból (itemek listájából), amennyiben ez lehetséges. A listán addig iterál, amíg meg nem találja a keresett elemet (az item Satisfies metódusa igazzal tér vissza). Ha megtalálja, eltávolítja a listából, megszakítja az iterációt és igazzal tér vissza. Ha pedig az egész listában nem találta meg, hamissal tér vissza, nem sikerült eltávolítani semmit. }
\classitem{+insertGate(tg:TeleportGateItem):bool}{Új teleportkapu hozzáadása a tgs listához, amennyiben van hely. Ha van hely, igazzal, ha nincs, hamissal tér vissza.}
\classitem{+removeGate(tg:TeleportGateItem):bool}{Teleportkapu eltávolítása a tgs listából, amennyiben megtalálja (a listán végigiterálva, Satisfies metódussal). Amint megtalálja, kilép a ciklusból, eltávolítja és igazzal tér vissza. Ha az egész listában nem találta, sikertelen a művelet, hamissal tér vissza.}
\classitem{+tryInsertItem(item:Item):bool}{Ellenőrzi, hogy az adott elem elméletileg belehelyezhető-e a raktárba. Ellenőrzi, hogy a raktár kapacitása nagyobb-e, mint az aktuális mérete. Ha nem nagyobb, nem helyezhető bele az elem, hamissal tér vissza. Más esetben igazzal tér vissza, van hely elhelyezni. }
\classitem{+tryInsertGate(tg:TeleportGateItem):bool}{Ellenőrzi, hogy az adott teleportkapu elméletileg belehelyezhető-e a raktárba. Ellenőrzi, hogy a raktár kapacitása nagyobb-e, mint az aktuális mérete. Ha nem nagyobb, nem helyezhető bele a kapu, hamissal tér vissza. Más esetben igazzal tér vissza, van hely elhelyezni. }
\classitem{+getItems():List<Item>}{Visszatér az inventory-ban található item-ek listájával.}
\classitem{+NearSun(a:Asteroid)}{Napközelben hívódik meg, az items minden elemének NearSun metódusát meghívja (ez csak urán esetén fejt ki hatást).}    
\end{class-template-method}

\subsection{TeleportGate}
\begin{class-template-responsibility}
A teleportkapukat reprezentáló osztály.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity \baseclass Building 
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-idList:Map<TeleportGate,int>}{Egy statikus lista, ami tartalmazza az eddig lerakott teleportkapukat azonosítókkal párosítva.}
\classitem{-gateId:int}{A teleportkapu azonosítója.}
\classitem{-pair:TeleportGate}{A teleportkapu párját tárolja.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+getIdPair(id:int):TeleportGate}{Megkeresi az idList-ben az adott id-hez tartozó teleportkaput, ha van ilyen, és visszatér vele. Ha nincs találat, null-al tér vissza.}
\classitem{+getRoutes():Asteroid}{A teleportkapu lekérdezi a párjától, hogy melyik aszteroida tartozik hozzá. A párja visszaadja ezt az aszteroidát, így a metódus visszaadja, hogy melyik extra aszteroida érhető el a teleportkapun keresztül egy lépésben.}
\classitem{+PairDestroyed()}{Ha az aszteroida párja megsemmisül, meghívódik ez a metódus, jelezve, hogy a teleportkapu már nem használható. A teleportkapu párja (pair attribútum értéke) törlődik, és mivel már le van rakva a teleportkapu, nem állítható be új pár számára.}
\classitem{+explode()}{A teleportkapu felrobban: értesíti a szomszédját a PairDestroyed() metóduson keresztül, hogy megsemmisült, majd ő maga is használhatatlanná válik. A pair attribútum értéke törlődik, nem visszaállítható.}
\classitem{+solarFlare()}{Napszél éri a kaput, aminek hatására véletlen időközönként egy véletlenszerű, szomszédos aszteroidára mozog át. Egy véletlenszám-generátor létrehozása, és az időköz beállítása után végignézi a szomszédai listáját (lekéri az aszteroidától a listát, amiben benne van a teleportkapu párjához tartozó aszteroida is). Ezután ezek közül egyet egy véletlenszerű választási algoritmussal kiválaszt, eltávolítja önmagát az aktuális aszteroidáról (removeBuilding() metódussal), majd hozzáadja magát az új aszteroida épületeihez (addBuilding() metódussal). }
\classitem{+setPair(t:TeleportGate)}{A pair attribútum setter-e.}
\classitem{+addIdListItem(t:TeleportGate,id:int)}{Az idList-hez hozzáad egy új elemet, beállítva a TeleportGate és id tulajdonságait.}
\end{class-template-method}

\subsection{TeleportGateItem}
\begin{class-template-responsibility}
A még le nem rakott teleportkapukért felelős osztály, amiket a telepes a raktárában tárol. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-id:int}{A teleportkapu-párok közös azonosítója.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\classitem{+Activate()}{Teleportkapuk lerakásáért felel. Eltávolítja magát a raktárból. Ezután a teleportkapu osztály statikus idList listájából megkeresi, hogy a hozzá tartozó id-hez tartozik-e már teleportkapu (getIdPair metódus), és ha igen, megtalálta a párját, ami már el van helyezve. Ekkor létrehoz egy új teleportkaput, aminek a párját beállítja az id alapján megtalált kapura, aminél pedig beállítja saját magát párnak (setPair metódussal). Ha pedig nem találja a listában az id-t (null-al tér vissza a metódus),akkor létrehoz egy új teleportkaput, pár beállítás nélkül. Mindkét opció esetén végül elhelyezi magát az idListben (addIdListItem metódussal)}
\end{class-template-method}

\subsection{TeleportGateRecipe}
\begin{class-template-responsibility}
Teleportkapu-párok elkészítéséhez szükséges speciális recept típus. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Recipe
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{\#makeResult(s:SpaceShip)}{Generál egy azonosítót az új teleportkapu-párnak, majd ezt megadva a konstruktorban 2 teleportkapu elemet hoz létre, majd elhelyezi őket a telepes raktárában (insertItem).}
\classitem{+canCraft(s:SpaceShip):bool}{Meghatározza, hogy egy adott raktárban és aszteroidán lévő kibányászott nyersanyagkészlet elegendő-e az teleportkapu-pár elkészítéséhez. Először lekéri a készítő telepes és az aktuális aszteroida raktárának elemkészletét, és lemásolja azokat egy-egy listába, hogy az eredeti tartalom ne változzon. Majd a recept input-jának minden elemét összehasonlítja a két lista elemeivel, először a telepesében keresve, és ha nem talál, az aszteroidáéban keresi tovább. Amikor megtalál egy elemet, eltávolítja a listából.  Ha legalább egy hozzávalóhoz nem talál raktárkészletet egyik listában sem,azonnal befejezi a műveleteket, false-al tér vissza, nem készíthető el a recept. Ha minden szükséges elemet megtalált a két listában összesen, ellenőrzi, van-e elég hely a teleportkapuk tárolására a telepes raktárában. Ehhez le kell kérdeznie a raktár teleportkapukat tároló listájának méretét. Ha van elegendő hely, a recept elkészíthető, ellenkező esetben nem (true, ill. false visszatérés).}
\end{class-template-method}

\subsection{Titanium}
\begin{class-template-responsibility}
 Egy egységnyi titán nyersanyagot reprezentál.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item \baseclass Resource
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\end{class-template-method}


\subsection{UFO}
\begin{class-template-responsibility}
Egy speciális jármű, az UFO tevékenységeit, tulajdonságait tartalmazza.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity \baseclass Vessel
\end{class-template-baseclass}
\begin{class-template-attribute}
\item[] $\emptyset$
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+getInventory():IInventory}{Az inventory-t visszaadja.}
\end{class-template-method}


\subsection{Uranium}
\begin{class-template-responsibility}
 Egy egységnyi urán nyersanyagot reprezentál.
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Item \baseclass Resource
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-counter: int}{Számolja, hogy urán hányszor volt eddig napközelben, ettől függően robban fel.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+Satisfies(i:Item):bool}{Meghatározza, hogy az átadott Item használható-e a jelenlegi helyett. Beépített típusellenőrző függvénnyel megállapítja, hogy megegyeznek-e a típusok, és ha igen, true-val, ha nem, false-al tér vissza.}
\classitem{+NearSun(a:Asteroid)}{Napközelben hívódik meg, a számlálót növeli 1-el. Ha az eléri a 3-at, felrobban az urán. Ez azt jelenti, hogy a megadott aszteroida explode() metódusa meghívódik, felrobbantva vele az aszteroidát.}
\end{class-template-method}

\subsection{Vessel}
\begin{class-template-responsibility}
Egy-egy járműért (pl. telepes, robot, vagy UFO) felelős osztály. 
\end{class-template-responsibility}
\begin{class-template-interface}
$\emptyset$
\end{class-template-interface}
\begin{class-template-baseclass}
Entity \baseclass MovableEntity
\end{class-template-baseclass}
\begin{class-template-attribute}
\classitem{-isHidden:bool}{Ha jelenleg el van bújva az aszteroidájában, igaz, ellenkező esetben hamis. }
\classitem{-owner:Player[1]}{Tárolja, hogy melyik játékos irányítja az járművet.}
\end{class-template-attribute}
\begin{class-template-method}
\classitem{+getInventory():IInventory}{}
\classitem{+getHidingSpaceRequirement():int}{}
\classitem{+Vessel(p:Player, a:Asteroid):Vessel}{Az osztály konstruktora, beállítja az őt kezelő játékost (owner) illetve aszteroidát (MovableEntity osztályból örökölt currentAsteroid attribútum). }
\classitem{+hide()}{Belebújik az adott aszteroidába, ha van benne elegendő hely (összehasonlítja a saját getHidingSpaceRequirement() metódusának visszatérési értékét, és az aszteroida GetAvailableHidingSpace() metódusának visszatérési értékét, és ha az utóbbi nem kisebb, akkor van elegendő hely). Ekkor ha az isHidden attribútum false, akkor meghívja a currentAsteroid attribútum hide(this) metódusát, majd beállítja a isHidden értéket true-ra. Ha nincs elég hely, vagy már el van bújva, nem történik művelet. }
\classitem{+exitHiding()}{A jármű kibújik az aszteroida magjából, ha el volt bújva benne. Ha az isHidden attribútum true, akkor meghívja a currentAsteroid attribútum exitHiding(this) metódusát, majd beállítja a isHidden értéket false-ra. Ha nincs megbújva, nem történik semmi. }
\classitem{+drill()}{Fúr egy egységnyit az aszteroida köpenyéből, ha még nincs teljesen átfúrva: meghívja a currentAsteroid attribútum drill() metódusát, ami ezt a feltételt ellenőrzi. Ha át van fúrva, nem történik művelet.}
\classitem{+mine()}{A  vessel egy egységet kibányászik az ott található nyersanyagból. Ha az isHidden attribútum értéke false, akkor meghívja a currentAsteroid attribútum mine() metódusát, majd ha a visszatérési érték null, sikertelen a bányászat, a metódus véget ér. Ha viszont nem, akkor meghívja az inventory attribútum insertItem(i) metódusát, a paraméter az mine() metódus visszatérési értékeként megkapott Item típusú objektum lesz.}
\classitem{+explode()}{Felrobban  a jármű (egy aszteroida robbanásának hatására), megsemmisíti. }
\classitem{+solarFlare()}{Örökölt függvény. Napvihar esetén hívódik meg. Ha az isHidden attribútum éppen false, akkor meghívja a explode() metódust.}
\end{class-template-method}


\section{A tesztek részletes tervei, leírásuk a teszt nyelvén}
\comment{A tesztek részletes tervei alatt meg kell adni azokat a bemeneti adatsorozatokat, amelyekkel a program működése ellenőrizhető. Minden bemenő adatsorozathoz definiálni kell, hogy az adatsorozat végrehajtásától a program mely részeinek, funkcióinak ellenőrzését várjuk és konkrétan milyen eredményekre számítunk, ezek az eredmények hogyan vethetők össze a bemenetekkel.A tesztek leírásakor az előző dokumentumban (proto koncepciója) megadott szintakszist kell használni.}

\subsection{Complex test}
\begin{test-case-description}
    Ez a teszt a Teamses labor csatornában lévő példa alapján készült el.
\end{test-case-description}
\begin{test-case-function}
    Egy összetetteb teszteset vizsgálata
\end{test-case-function}
\begin{test-case-input}
A pálya betöltése:
    \begin{verbatim}
>startgame 0 komplex_test.vsgstd
    \end{verbatim}

S1 felveszi az uránt
    \begin{verbatim}
>mine S1
>endturn
    \end{verbatim}

S1 G1 által átlép A3-ra
    \begin{verbatim}
>move S1
Neighbours:
01 – A2 – empty
02 – A3 : G1 – empty
>02
S1 Moved to A3 using G1
>endturn
    \end{verbatim}

S1 lerakja az uránt
    \begin{verbatim}
>place Uran(2)
>endturn        
    \end{verbatim}

S1 lerakja az uránt
    \begin{verbatim}
>solarDistance 1
>endturn
[Event] Uranium has exploded
[Event] A3 has exploded
[Event] S1 has exploded
[Event] G4 has exploded
[Event] G3 has exploded
[Event] G2 has exploded
[Event] G1 has exploded
[Event] R1 moved to A2        
    \end{verbatim}
\end{test-case-input}


\subsection{Drilling and Mining}
\begin{test-case-description}
    A bányászás mozzanatainak tesztelésére.
\end{test-case-description}
\begin{test-case-function}
    Egy aszteroidán tartózkodó SpaceShip megfúrja azt és kibányássza a nyersanyagot. \newline
    Működés nagyban függ a felhasználó által választott értékeken, így bizonyos lépések ismétlése szükséges a várt eredmény eléréséhez.
\end{test-case-function}
\begin{test-case-input}

    A világ betöltése: 
    \begin{verbatim}
    >startgame 0 mining_test.vsgstd
    \end{verbatim}
    S1 elkezdi a fúrást: 
    \begin{verbatim}
    >drill S1
    >endturn
    \end{verbatim}
    S1 elkezdi a bányászatot: 
    \begin{verbatim}
    >mine S1
    >endturn
    \end{verbatim}
\end{test-case-input}
\begin{test-case-output}
\begin{verbatim}
    Asteroid_1 crust = X //optimális esetben X=0
    Next Player: player_1
    Asteroid_1 mined
    Next Player: player_1
\end{verbatim}
\end{test-case-output}



\section{A tesztelést támogató programok tervei}
%\comment{A tesztadatok előállítására, a tesztek eredményeinek kiértékelésére szolgáló segédprogramok részletes terveit kell elkészíteni.}
A program teszteléséhez a PowerShell parancssori értelmezőt javasoljuk használni.
Ehhez a PS stream átirányítás funkcióját illetve a különbség kijelzőt lehet felhasználni.
Egy példa a PS használatára:

\begin{adjustwidth}{-30pt}{0pt}
\begin{verbatim}
>Get-Content input.txt | java -jar asteroidMiner.jar > output.txt
>Compare-Object $(Get-Content "sample.txt") $(Get-Content "output.txt") -IncludeEqual
\end{verbatim}
\end{adjustwidth}

A példában a program egy előre elkészített bemenetet olvas be ( \verb"input.txt" )
és egy file ba ( \verb"output.txt" ) írja ki a program kimenetét.
Ezután azt összehasonlítja a minta kimenettel a \verb"Compare-Object" használatával.

\end{document}